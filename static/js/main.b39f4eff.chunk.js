(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{19:function(e,t,n){},42:function(e,t,n){e.exports=n(63)},47:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(32),r=n.n(s),i=(n(47),n(19),n(29)),c=n(12),l=n(13),u=n(15),m=n(14),p=n(38),d=n.n(p),h=(n(22),n(57),d.a.initializeApp({apiKey:"AIzaSyCAaRVNwMrtKVT7d_PRqdEDKhZEU-ZH1K4",authDomain:"fir-with-react-b683e.firebaseapp.com",databaseURL:"https://fir-with-react-b683e.firebaseio.com",projectId:"fir-with-react-b683e",storageBucket:"fir-with-react-b683e.appspot.com",messagingSenderId:"189972529518",appId:"1:189972529518:web:a88bf409263d63d5f8817f"})),f=n(7),v=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.loginUser=function(t){t.preventDefault(),h.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(t){console.log(t),e.props.history.push("/add-quiz-2")})).catch((function(e){alert(e),console.log(e)}))},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"text-center mt-5"},"Login"),o.a.createElement("div",{className:"form-div"},o.a.createElement("form",null,o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{htmlFor:"email"},"Email address"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter your email Address",onChange:this.handleChange,value:this.state.email})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Password"},"Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter your Password",onChange:this.handleChange,value:this.state.password})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{type:"button",onClick:this.loginUser,className:"btn btn-primary"},"Login")),o.a.createElement("p",{className:"mt-5 text-center"},"Don't have an account?",o.a.createElement(f.b,{to:"/signup"}," SignUp")))))}}]),n}(o.a.Component),b=n(16),g=n.n(b),E=n(23),w=n(17),N=function(e){return void 0===e||null==e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},y=n(25),x=n.n(y),Q=n(26),C=n.n(Q),A=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={questions:[],currentQuestion:{},nextQuestion:{},previousQuestion:{},answer:"",numberOfAnsweredQuestion:0,currentQuestionIndex:0,score:0,correctAnswers:0,wrongAnswers:0,nextButtonDisabled:!1,previousButtonDisabled:!0,time:{}},e.displayQuestions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.questions,n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=e.state.currentQuestionIndex;if(console.log(e.state.questions),!N(e.state.questions)){n=(t=e.state.questions)[s],console.log(n),a=t[s+1],o=t[s-1];var r=n.answer;e.setState({currentQuestion:n,nextQuestion:a,previousQuestion:o,answer:r},(function(){e.handleDisableButton()}))}},e.handleOptionClick=function(t){t.target.innerHTML.toLowerCase()===e.state.answer.toLowerCase()?e.correctAnswer():e.wrongAnswer()},e.showAlert=function(){return C()(x.a).fire({icon:"success",title:"Answer Taken",confirmButtonText:"Sure"})},e.handleNextButtonClick=function(t){void 0!==e.state.nextQuestion&&e.setState((function(e){return{currentQuestionIndex:e.currentQuestionIndex+1}}),(function(){e.displayQuestions(e.state.state,e.state.currentQuestion,e.state.nextQuestion,e.state.previousQuestion)}))},e.handlePreviousButtonClick=function(t){void 0!==e.state.previousQuestion&&e.setState((function(e){return{currentQuestionIndex:e.currentQuestionIndex-1}}),(function(){e.displayQuestions(e.state.state,e.state.currentQuestion,e.state.nextQuestion,e.state.previousQuestion)}))},e.handleDisableButton=function(){void 0===e.state.previousQuestion||0===e.state.currentQuestionIndex?e.setState({previousButtonDisabled:!0}):e.setState({previousButtonDisabled:!1}),void 0===e.state.nextQuestion||e.state.currentQuestionIndex+1===5?e.setState({nextButtonDisabled:!0}):e.setState({nextButtonDisabled:!1})},e.correctAnswer=function(){C()(x.a).fire({icon:"success",title:"Answer is Correct",confirmButtonText:"Okay"}),e.setState((function(e){return{score:e.score+1,correctAnswers:e.correctAnswer+1,currentQuestionIndex:e.currentQuestionIndex+1,numberOfAnsweredQuestion:e.numberOfAnsweredQuestion+1}}),(function(){void 0===e.state.nextQuestion?e.endQuiz(e.state.score):e.displayQuestions(e.state.questions,e.state.currentQuestionIndex,e.nextQuestion,e.previousQuestion)}))},e.wrongAnswer=function(){C()(x.a).fire({icon:"error",title:"Answer is Incorrect",confirmButtonText:"Try Next"}),e.setState((function(e){return{wrongAnswers:e.wrongAnswers+1,currentQuestionIndex:e.currentQuestionIndex+1,numberOfAnsweredQuestion:e.numberOfAnsweredQuestion+1}}),(function(){void 0===e.state.nextQuestion?e.endQuiz(e.state.score):e.displayQuestions(e.state.questions,e.state.currentQuestionIndex,e.nextQuestion,e.previousQuestion)}))},e.endQuiz=function(e){var t=C()(x.a);localStorage.setItem("score",e),console.log(e),t.fire({title:"The Quiz is finished! \nYour Score is "+e,input:"text",inputLabel:"Your name:",showCancelButton:!0,inputPlaceholder:"Enter your name",inputValidator:function(e){if(!e)return"You need to write something!";localStorage.setItem("name",e),setTimeout((function(){window.location.assign("/quiz-app/results")}),2e3)}})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t,n,a,o,s,r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.match.params.id),t=h.firestore(),e.next=4,t.collection(this.props.match.params.id).doc(this.props.match.params.id).get().then((function(e){return e.data().questions}));case 4:n=e.sent,console.log(n),this.setState({questions:n}),console.log(this.state.questions),a=this.state,o=a.questions,s=a.currentQuestion,r=a.nextQuestion,i=a.previousQuestion,this.displayQuestions(o,s,r,i),this.startTimer();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startTimer",value:function(){var e=this,t=Date.now()+15e4;this.interval=setInterval((function(){var n=new Date,a=t-n,o=Math.floor(a%36e5/6e4),s=Math.floor(a%6e4/1e3);a<0?(clearInterval(e.interval),e.setState({time:{minutes:0,seconds:0}},(function(){alert("Quiz has ended"),e.props.history.push("/")}))):e.setState({time:{minutes:o,seconds:s}})}),1e3)}},{key:"render",value:function(){console.log(this.props.match.params.id);var e=this.state,t=e.questions,n=e.currentQuestion,s=e.currentQuestionIndex,r=e.time,i=e.previousButtonDisabled,c=e.nextButtonDisabled;return console.log(n),console.log(t),o.a.createElement(a.Fragment,null,o.a.createElement(w.a,null,o.a.createElement("title",null,"Quiz Page")," "),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"questions"},o.a.createElement("h1",null,r.minutes,":",r.seconds),o.a.createElement("h5",null,s+1,". ",n.question),o.a.createElement("div",{className:"options-container"},o.a.createElement("p",{onClick:this.handleOptionClick,className:"option"},n.optionA),o.a.createElement("p",{onClick:this.handleOptionClick,className:"option"},n.optionB)),o.a.createElement("div",{className:"options-container"},o.a.createElement("p",{onClick:this.handleOptionClick,className:"option"},n.optionC),o.a.createElement("p",{onClick:this.handleOptionClick,className:"option"},n.optionD)),o.a.createElement("div",{className:"button-container mt-3"},o.a.createElement("button",{id:"preivous-btn",onClick:this.handlePreviousButtonClick,className:"btn btn-secondary mr-2 ".concat(i?"disable":"")},"Previous"),o.a.createElement("button",{id:"next-btn",onClick:this.handleNextButtonClick,className:"btn btn-success  mr-2 ".concat(c?"disable":"")},"Next"),o.a.createElement("button",{id:"quit-btn",className:"btn btn-danger mr-2"},"Quit")))))}}]),n}(o.a.Component),O=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).initState={questionObj:{question:"Another Question?",optionA:"Arteta",optionB:"Bale",optionC:"Cristiano",optionD:"Dani",answer:"Cristiano"}},e.state={number:0,questions:{question:"Another Question?",optionA:"Arteta",optionB:"Bale",optionC:"Cristiano",optionD:"Dani",answer:"Cristiano"}},e.showNumber=function(){if(e.state.number<5)return console.log(e.state.number),o.a.createElement("div",null,e.state.number+1," No. question out of 5 Questions");window.location.assign("/quiz-app")},e.nextQuestion=function(t){t.preventDefault();var n=e.question.value,a=e.optionA.value,o=e.optionB.value,s=e.optionC.value,r=e.optionD.value,i=e.answer.value;""!==n&&""!==i&&""!==a&&""!==o&&""!==s&&""!==r||(console.log("Empty"),alert("Form can't be empty!"),window.location.reload()),e.question.value="",e.optionA.value="",e.optionB.value="",e.optionC.value="",e.optionD.value="",e.answer.value="";var c={question:n,optionA:a,optionB:o,optionC:s,optionD:r,answer:i},l=h.firestore();if(0===e.state.number)l.collection(e.props.topicName).doc(e.props.topicName).set({id:e.props.topicName,questions:[c]}).then((function(){e.setState({number:e.state.number+1}),console.log("Successfully added")}));else{var u=[];l.collection(e.props.topicName).doc(e.props.topicName).get().then((function(t){u=t.data().questions,console.log(u),u.push(c),console.log(u),l.collection(e.props.topicName).doc(e.props.topicName).update({questions:u}).then((function(){e.setState({number:e.state.number+1}),console.log("Successfully updated!")})).catch((function(e){console.log("error writing docs,",e)}))}))}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.showNumber(),o.a.createElement("form",{onSubmit:this.nextQuestion},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"question"},"Question: "),o.a.createElement("input",{type:"text",name:"question",className:"form-control",placeholder:"question",ref:function(t){return e.question=t}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"optionA"},"Option A: "),o.a.createElement("input",{type:"text",name:"optionA",className:"form-control",placeholder:"A",ref:function(t){return e.optionA=t}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"optionB"},"Option B: "),o.a.createElement("input",{type:"text",name:"optionB",className:"form-control",placeholder:"B",ref:function(t){return e.optionB=t}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"optionC"},"Option C: "),o.a.createElement("input",{type:"text",name:"optionC",className:"form-control",placeholder:"C",ref:function(t){return e.optionC=t}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"optionD"},"Option D: "),o.a.createElement("input",{type:"text",name:"optionD",className:"form-control",placeholder:"D",ref:function(t){return e.optionD=t}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"answer"},"Answer: "),o.a.createElement("input",{type:"text",name:"answer",className:"form-control",placeholder:"answer",ref:function(t){return e.answer=t}})),o.a.createElement("button",{type:"submit",className:"btn btn-info"},"Next Question")))}}]),n}(o.a.Component),k=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1,topicName:"",user:{}},e.handleChange=function(t){console.log(t.target.value),e.setState({topicName:t.target.value})},e.saveQuizTopic=function(t){t.preventDefault(),console.log("Next Button Clicked"),e.setState({visible:!0}),h.firestore().collection("quizzes").doc(e.state.topicName).set({topicName:e.state.topicName}).then((function(){console.log("Topic Added")})).catch((function(e){console.log(e.message)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;h.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):(e.setState({user:null}),window.location.assign("/quiz-app/login"))}))}},{key:"logout",value:function(){h.auth().signOut()}},{key:"render",value:function(){return o.a.createElement("div",{className:"AddQuiz container"},o.a.createElement("button",{className:"btn btn-danger logout",onClick:this.logout},"Logout"),o.a.createElement("h3",{className:"text-center mt-5"},"Add Custom Quiz"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"topicName"},"Name of the Topic of Quiz"),o.a.createElement("input",{type:"text",className:"form-control",name:"topicName",value:this.state.topicName,onChange:this.handleChange})),o.a.createElement("button",{className:"btn btn-primary",onClick:this.saveQuizTopic},"Next"),this.state.visible?o.a.createElement(O,{topicName:this.state.topicName}):null)}}]),n}(o.a.Component),q=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(w.a,null," ",o.a.createElement("title",null,"Quiz App - Home")," "),o.a.createElement("div",{className:"home"},o.a.createElement("h1",{className:"text-center"},"Quiz App"),o.a.createElement("div",{className:"play-div text-center"},o.a.createElement(f.b,{to:"/play/instructions"},o.a.createElement("button",{className:"btn btn-primary"},"Play"))),o.a.createElement("div",{className:"result-div text-center mt-3"},o.a.createElement(f.b,{to:"/results"},o.a.createElement("button",{className:"btn btn-outline-success"},"Results"))),o.a.createElement("div",{className:"login-div mt-5\ttext-center"},o.a.createElement("h3",null,"Want to add custom quiz? "),o.a.createElement(f.b,{to:"/login"},o.a.createElement("button",{className:"btn btn-info mr-2"},"Login")),o.a.createElement(f.b,{to:"/signup"},o.a.createElement("button",{className:"btn btn-secondary ml-2"},"Sign Up")))))},S=n(30),j=function(){var e=Object(a.useState)([]),t=Object(S.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){var e=h.firestore();(function(){var t=Object(E.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection("quizzes").get();case 2:n=t.sent,console.log(n.docs.map((function(e){return e.id}))),s(n.docs);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),o.a.createElement(a.Fragment,null,o.a.createElement(w.a,null,o.a.createElement("title",null,"Quiz Instructions - Quiz App")),o.a.createElement("div",{className:"container text-center"},o.a.createElement("h1",{className:"text-center mt-5"},"Play a simple quiz"),o.a.createElement("h4",{className:"text-center"},"Choose quiz topic:"),n.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("button",{className:"btn btn-outline-success mb-3"},o.a.createElement(f.b,{to:"/play/quiz/".concat(e.id),className:"btn-link"}," ",e.data().topicName," ")))})),o.a.createElement("h5",{className:"text-center mt-5"},"There are five Questions for each topic, each one have 4 options, you can choose only one option."),o.a.createElement(f.b,{to:"/"},o.a.createElement("button",{className:"btn btn-outline-secondary ml-2"},"Take me back"))))},z=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.signUpUser=function(t){t.preventDefault(),h.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){console.log(t),e.props.history.push("/login")})).catch((function(e){console.log(e)}))},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"text-center mt-5"},"Sign Up"),o.a.createElement("div",{className:"form-div"},o.a.createElement("form",null,o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{htmlFor:"email"},"Email address"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter your email Address",onChange:this.handleChange,value:this.state.email})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Password"},"Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter your Password",onChange:this.handleChange,value:this.state.password})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this.signUpUser,className:"btn btn-info"},"Sign Up")),o.a.createElement("p",{className:"mt-5 text-center"},"Already have an account?",o.a.createElement(f.b,{to:"/login"}," Login")))))}}]),n}(o.a.Component),B=function(){var e=Object(a.useState)([]),t=Object(S.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){var e=h.firestore();!function(){var t=localStorage.getItem("name"),n=localStorage.getItem("score");localStorage.removeItem("name"),localStorage.removeItem("score"),console.log(t+" "+n),null!==t&&null!==n&&e.collection("Results").doc(t).set({name:t,score:n}).then((function(){console.log("Successfully added!")})).catch((function(e){console.log(e)}))}(),function(){var t=Object(E.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection("Results").get();case 2:n=t.sent,console.log(n.docs.map((function(e){return e.id}))),s(n.docs);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),o.a.createElement(a.Fragment,null,o.a.createElement(w.a,null,o.a.createElement("title",null,"Quiz Results")),o.a.createElement("div",{className:"container text-center"},o.a.createElement("h1",{className:"text-center mt-5"},"Results"),o.a.createElement("ul",{class:"list-group"},n.map((function(e){return o.a.createElement("li",{key:e.id,className:"list-group-item text-dark d-flex justify-content-between align-items-center"},e.data().name,o.a.createElement("span",{class:"badge badge-primary badge-pill"},"Score: ",e.data().score))}))),o.a.createElement(f.b,{to:"/"},o.a.createElement("button",{className:"btn btn-outline-secondary ml-2 mt-5"},"Go to Home"))))},D=n(4);var I=function(){return o.a.createElement(f.a,{basename:"/quiz-app"},o.a.createElement(D.a,{path:"/",exact:!0,component:q}),o.a.createElement(D.a,{path:"/play/instructions",exact:!0,component:j}),o.a.createElement(D.a,{path:"/play/quiz/:id",exact:!0,component:A}),o.a.createElement(D.a,{path:"/login",exact:!0,component:v}),o.a.createElement(D.a,{path:"/signup",exact:!0,component:z}),o.a.createElement(D.a,{path:"/add-quiz-2",exact:!0,component:k}),o.a.createElement(D.a,{path:"/results",exact:!0,component:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.b39f4eff.chunk.js.map